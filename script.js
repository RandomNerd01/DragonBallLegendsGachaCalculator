let totalSummons=0;function calculate(){totalSummons=0;let t=parseFloat(document.getElementById("probabilityStepUp").value),e=parseInt(document.getElementById("chronosCrystalsStepUp").value),l=parseInt(document.getElementById("tickets").value),n=parseInt(document.getElementById("ticketprobability").value),$=[300,500,700,1e3,1e3];for(;e>=0;){let o=0;for(;o<$.length&&!((e-=$[o])<0);)totalSummons+=$[o]/100,o++;o==$.length&&(totalSummons+=10)}console.log("probability: "+t/100),console.log("summons: "+totalSummons);let a=1-(1-(1-Math.pow(1-n/100,l)))*(1-(1-Math.pow(1-t/100,totalSummons)));document.getElementById("totalSummons").textContent=totalSummons,a>.9999&&(a=.9999),document.getElementById("chance").textContent=(100*a).toFixed(2),document.getElementById("resultStepUp").style.display="block"}function calculate1(){let t=0,e=0,l=parseFloat(document.getElementById("probabilityMegaRising").value),n=parseInt(document.getElementById("chronosCrystalsMegaRising").value);e=parseFloat(document.getElementById("guaranteedSparkingProbabilityMegaRising").value);let $=[1e3,1e3,1e3];for(;n>=0;){let o=0;for(;o<$.length&&!((n-=$[o])<0);)t+=$[o]/100,o++;o===$.length&&(t+=10)}console.log("probability: "+l/100),console.log("summons: "+t);let a=1-(1-(1-Math.pow(1-l/100,t/10*9)))*(1-(1-Math.pow(1-e/100,t/10)));document.getElementById("totalSummons1").textContent=t,a>.9999&&(a=.9999),document.getElementById("chance1").textContent=(100*a).toFixed(2),document.getElementById("resultMegaRising").style.display="block"}function calculate2(){let t=0,e=0,l=parseFloat(document.getElementById("probabilityUltraRising").value),n=parseInt(document.getElementById("chronosCrystalsUltraRising").value),$=parseFloat(document.getElementById("guaranteedSparkingProbabilityUltraRising").value),o=document.getElementById("isUltra"),a="true"===o.value,i=[1e3,1e3,1e3];for(;n>=0;){let _=0;for(;_<i.length&&!((n-=i[_])<0);)1==_&&e++,t+=i[_]/100,_++;_==i.length&&(t+=10)}console.log("probability: "+l/100),console.log("summons: "+t);let s=0;s=!1==a?1-(1-(1-Math.pow(1-l/100,t/10*9)))*(1-(1-Math.pow(1-$/100,t/10))):1-(1-(1-Math.pow(1-l/100,t/4*3)))*(1-(1-Math.pow(1-.7/100,t/4))),document.getElementById("totalSummons2").textContent=t,s>.9999&&(s=.9999),document.getElementById("chance2").textContent=(100*s).toFixed(2),document.getElementById("resultUltraRising").style.display="block"}function calculate3(){let t=0,e=0,l=parseFloat(document.getElementById("probabilityLimitedRising").value),n=parseInt(document.getElementById("chronosCrystalsLimitedRising").value),$=document.getElementById("isMainNewCharacterSelect"),o="true"===$.value,a=[500,700,1e3];for(;n>=0;){let i=0;for(;i<a.length&&!((n-=a[i])<0);)t+=a[i]/100,i++;i===a.length&&e++}console.log("probability: "+l/100),console.log("summons: "+t);let _=0;_=!1==o?1-Math.pow(1-l/100,t):1-(1-(1-Math.pow(1-l/100,t)))*(1-(1-Math.pow(.985,e))),document.getElementById("totalSummons3").textContent=t,_>.9999&&(_=.9999),document.getElementById("chance3").textContent=(100*_).toFixed(2),document.getElementById("resultLimitedRising").style.display="block"}document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector("button");t.addEventListener("click",calculate)}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector("button");t.addEventListener("click",calculate1)}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector("button");t.addEventListener("click",calculate2)}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector("button");t.addEventListener("click",calculate3)});